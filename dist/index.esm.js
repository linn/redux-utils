import{RSAA as e}from"redux-api-middleware";const t=(e,t=!0,a=!1)=>{const E={};return E[`REQUEST_${e}`]=`REQUEST_${e}`,E[`REQUEST_APPLICATION_STATE_${e}`]=`REQUEST_APPLICATION_STATE_${e}`,E[`RECEIVE_${e}`]=`RECEIVE_${e}`,E[`RECEIVE_APPLICATION_STATE_${e}`]=`RECEIVE_APPLICATION_STATE_${e}`,E[`REQUEST_SEARCH_${e}`]=`REQUEST_SEARCH_${e}`,E[`RECEIVE_SEARCH_${e}`]=`RECEIVE_SEARCH_${e}`,E[`CLEAR_SEARCH_${e}`]=`CLEAR_SEARCH_${e}`,E[`FETCH_${e}_ERROR`]=`FETCH_${e}_ERROR`,E[`CLEAR_${e}_ERRORS`]=`CLEAR_${e}_ERRORS`,E[`CLEAR_${e}_DATA`]=`CLEAR_${e}_DATA`,t&&(E[`REQUEST_ADD_${e}`]=`REQUEST_ADD_${e}`,E[`REQUEST_CREATE_${e}`]=`REQUEST_CREATE_${e}`,E[`REQUEST_UPDATE_${e}`]=`REQUEST_UPDATE_${e}`,E[`RECEIVE_UPDATED_${e}`]=`RECEIVE_UPDATED_${e}`,E[`REQUEST_PATCH_${e}`]=`REQUEST_PATCH_${e}`,E[`RECEIVE_PATCH_${e}`]=`RECEIVE_PATCH_${e}`,E[`RESET_${e}`]=`RESET_${e}`,E[`RECEIVE_NEW_${e}`]=`RECEIVE_NEW_${e}`,E[`SET_${e}_EDIT_STATUS`]=`SET_${e}_EDIT_STATUS`,E[`SHOW_${e}_SNACKBAR`]=`SHOW_${e}_SNACKBAR`,E[`HIDE_${e}_SNACKBAR`]=`HIDE_${e}_SNACKBAR`,E[`REQUEST_POST_${e}`]=`REQUEST_POST_${e}`,E[`RECEIVE_POST_${e}`]=`RECEIVE_POST_${e}`),a&&(E[`REQUEST_DELETE_${e}`]=`REQUEST_DELETE_${e}`,E[`RECEIVE_DELETED_${e}`]=`RECEIVE_DELETED_${e}`),E},a=e=>{const t={};return t[`REQUEST_${e}`]=`REQUEST_${e}`,t[`RECEIVE_${e}`]=`RECEIVE_${e}`,t[`FETCH_${e}_ERROR`]=`FETCH_${e}_ERROR`,t[`CLEAR_${e}_ERRORS`]=`CLEAR_${e}_ERRORS`,t},E=e=>{const t={};return t[`REQUEST_${e}`]=`REQUEST_${e}`,t[`RECEIVE_${e}`]=`RECEIVE_${e}`,t[`SHOW_${e}_MESSAGE`]=`SHOW_${e}_MESSAGE`,t[`HIDE_${e}_MESSAGE`]=`HIDE_${e}_MESSAGE`,t[`FETCH_${e}_ERROR`]=`FETCH_${e}_ERROR`,t[`CLEAR_${e}_ERRORS`]=`CLEAR_${e}_ERRORS`,t[`CLEAR_${e}_DATA`]=`CLEAR_${e}_DATA`,t},s=e=>async(t,a,E)=>({data:await E.json(),item:e}),n=(e,t)=>({type:e[`REQUEST_${t}`],payload:{}}),i=(e,t)=>({type:e[`REQUEST_APPLICATION_STATE_${t}`],payload:{}}),r=(e,t)=>({type:e[`REQUEST_ADD_${t}`],payload:{}}),o=(e,t)=>({type:e[`REQUEST_UPDATE_${t}`],payload:{}}),p=(e,t)=>({type:e[`REQUEST_DELETE_${t}`],payload:{}}),_=(e,t,a)=>({type:e[`RECEIVE_UPDATED_${t}`],payload:s(a)}),l=(e,t,a)=>({type:e[`RECEIVE_${t}`],payload:s(a)}),d=(e,t,a)=>({type:e[`RECEIVE_APPLICATION_STATE_${t}`],payload:s(a)}),c=(e,t,a)=>({type:e[`RECEIVE_NEW_${t}`],payload:s(a)}),R=(e,t,a)=>({type:e[`RECEIVE_${t}`],payload:s(a)}),$=(e,t,a)=>({type:e[`RECEIVE_DELETED_${t}`],payload:s(a)}),u=(e,t)=>({type:e[`REQUEST_SEARCH_${t}`],payload:{}}),T=(e,t,a)=>({type:e[`REQUEST_${t}`],payload:{options:a}}),A=(e,t,a)=>({type:e[`RECEIVE_SEARCH_${t}`],payload:s(a)}),y=(e,t)=>({type:e[`REQUEST_POST_${t}`],payload:{}}),S=(e,t,a)=>({type:e[`RECEIVE_POST_${t}`],payload:s(a)}),h=(e,t)=>({type:e[`REQUEST_PATCH_${t}`],payload:{}}),C=(e,t,a)=>({type:e[`RECEIVE_PATCH_${t}`],payload:s(a)}),I=(e,t,a)=>({type:e[`FETCH_${t}_ERROR`],payload:async(e,t,E)=>E?{error:{status:E.status,statusText:`Error - ${E.status} ${E.statusText}`,details:await E.json(),item:a}}:"Network request failed"});function m(t,a,E,s,r,o){this.fetch=()=>({[e]:{endpoint:`${r}${E}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:o??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchById=i=>({[e]:{endpoint:`${r}${E}/${i}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:o??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchByPath=(i,p)=>({[e]:{endpoint:`${r}${E}/${i}/${p}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:o??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchPage=(i,p)=>({[e]:{endpoint:`${r}${E}/${i}/${p}`,method:"GET",options:{requires:!0},headers:{Accept:o??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchSortedPage=(i,p,_,d)=>({[e]:{endpoint:`${r}${E}/${i}/${p}/${_}/${d}`,method:"GET",options:{requires:!0},headers:{Accept:o??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.search=n=>({[e]:{endpoint:`${r}${E}?searchTerm=${n}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:o??"application/json"},types:[u(s,a),A(s,a,t),I(s,a,t)]}}),this.searchWithOptions=(n,i)=>({[e]:{endpoint:`${r}${E}?searchTerm=${n}${i}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:o??"application/json"},types:[u(s,a),A(s,a,t),I(s,a,t)]}}),this.clearSearch=()=>({type:s[`CLEAR_SEARCH_${a}`],payload:{}}),this.clearItems=()=>({type:s[`CLEAR_${a}_DATA`],payload:{}}),this.fetchState=()=>({[e]:{endpoint:`${r}${E}/application-state`,method:"GET",options:{requiresAuth:!0},headers:{Accept:"application/vnd.linn.application-state+json;version=1"},types:[i(s,a),d(s,a,t),I(s,a,t)]}})}function g(t,a,E,s,i,r="application/json"){this.requestProcessStart=(o,p=null)=>({[e]:{endpoint:(()=>{let e=`${i}${E}`;if(p){e+=`?${new URLSearchParams(p).toString()}`}return e})(),method:"POST",options:{requiresAuth:!0},headers:{Accept:"application/json","Content-Type":r},body:o?"application/json"===r?JSON.stringify(o):o:"",types:[n(s,a),R(s,a,t),I(s,a,t)]}}),this.setMessageVisible=e=>!0===e?{type:s[`SHOW_${a}_MESSAGE`],payload:{}}:{type:s[`HIDE_${a}_MESSAGE`],payload:{}},this.clearErrorsForItem=()=>({type:s[`CLEAR_${a}_ERRORS`],payload:{item:t}}),this.clearProcessData=()=>({type:s[`CLEAR_${a}_DATA`],payload:{}})}function f(t,a,E,s,n){this.fetchReport=i=>{const r=i?`${n}${E}?${new URLSearchParams(i).toString()}`:`${n}${E}`;return{[e]:{endpoint:r,method:"GET",options:{requiresAuth:!0},headers:{Accept:"application/json"},types:[T(s,a,i),l(s,a,t),I(s,a,t)]}}}}function U(t,a,E,s,R,u){this.fetch=i=>({[e]:{endpoint:`${R}${E}/${i}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:u??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchByHref=E=>({[e]:{endpoint:`${R}${E}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:u??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchByPath=(i,r)=>({[e]:{endpoint:`${R}${E}/${i}/${r}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:u??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.fetchByQueryString=(i,r)=>({[e]:{endpoint:`${R}${E}?${i}=${r}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:u??"application/json"},types:[n(s,a),l(s,a,t),I(s,a,t)]}}),this.add=n=>({[e]:{endpoint:`${R}${E}`,method:"POST",options:{requiresAuth:!0},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n),types:[r(s,a),c(s,a,t),I(s,a,t)]}}),this.update=(n,i)=>({[e]:{endpoint:null!==n?`${R}${E}/${n}`:`${R}${E}`,method:"PUT",options:{requiresAuth:!0},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i),types:[o(s,a),_(s,a,t),I(s,a,t)]}}),this.putByHref=(E,n)=>({[e]:{endpoint:E,method:"PUT",options:{requiresAuth:!0},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n),types:[o(s,a),_(s,a,t),I(s,a,t)]}}),this.patch=(n,i)=>({[e]:{endpoint:`${R}${E}/${n}`,method:"PATCH",options:{requiresAuth:!0},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i),types:[h(s,a),C(s,a,t),I(s,a,t)]}}),this.postByHref=(E,n="")=>({[e]:{endpoint:`${R}${E}`,method:"POST",options:{requiresAuth:!0},headers:{Accept:u??"application/json","Content-Type":"application/json"},body:JSON.stringify(n),types:[y(s,a),S(s,a,t),I(s,a,t)]}}),this.delete=(n,i)=>({[e]:{endpoint:null!==n?`${R}${E}/${n}`:`${R}${E}`,method:"DELETE",options:{requiresAuth:!0},headers:{Accept:"application/json","Content-Type":"application/json"},body:i?JSON.stringify(i):null,types:[p(s,a),$(s,a,t),I(s,a,t)]}}),this.reset=()=>({type:s[`RESET_${a}`],payload:{}}),this.setEditStatus=e=>({type:s[`SET_${a}_EDIT_STATUS`],payload:e}),this.clearErrorsForItem=()=>({type:s[`CLEAR_${a}_ERRORS`],payload:{item:t}}),this.create=()=>({type:s[`REQUEST_CREATE_${a}`],payload:{}}),this.setSnackbarVisible=e=>!0===e?{type:s[`SHOW_${a}_SNACKBAR`],payload:{}}:{type:s[`HIDE_${a}_SNACKBAR`],payload:{}},this.clearItem=()=>({type:s[`CLEAR_${a}_DATA`],payload:{}}),this.fetchState=()=>({[e]:{endpoint:`${R}${E}/application-state`,method:"GET",options:{requiresAuth:!0},headers:{Accept:"application/vnd.linn.application-state+json;version=1"},types:[i(s,a),d(s,a,t),I(s,a,t)]}})}function O(t,a,E,s,n,r){this.fetchState=()=>({[e]:{endpoint:`${n}${E}/${r}`,method:"GET",options:{requiresAuth:!0},headers:{Accept:"application/vnd.linn.application-state+json;version=1"},types:[i(s,a),d(s,a,t),I(s,a,t)]}})}const V="REQUEST_MENU",H="RECEIVE_MENU",D="REQUEST_NEWS",P="RECEIVE_NEWS",L="FETCH_ERROR",Q=(t,a)=>({[e]:{endpoint:`${a}/notifications`,method:"GET",options:{requiresAuth:!1},headers:{Accept:"application/json"},types:[{type:D,payload:{}},{type:P,payload:async(e,t,a)=>({news:await a.json(),item:"news"})},{type:L,payload:(e,t,a)=>a?`Report - ${a.status} ${a.statusText}`:"Network request failed"}]}}),N=e=>({type:"MARK_NOTIFICATION_SEEN",title:e.title}),b=(t,a)=>({[e]:{endpoint:`${a}/intranet/menu-no-auth`,method:"GET",options:{requiresAuth:!1},headers:{Accept:"application/json"},types:[{type:V,payload:{}},{type:H,payload:async(e,t,a)=>({menu:await a.json(),item:"menu"})},{type:L,payload:(e,t,a)=>a?`Report - ${a.status} ${a.statusText}`:"Network request failed"}]}}),w={getHref:(e,t)=>{if(e&&e.links&&e.links.length>0){const a=e.links.find(e=>e.rel===t);return a?a.href:null}return null},getSelfHref:e=>w.getHref(e,"self"),sortList:e=>e.slice().sort((e,t)=>e<t?-1:e>t?1:0),sortEntityList:(e,t)=>e.slice().sort((e,a)=>e[t]<a[t]?-1:e[t]>a[t]?1:0)};function j(e,t,a={loading:!1,searchLoading:!1,items:[],searchItems:[]},E=null){const s=e=>({...e,href:w.getSelfHref(e)}),n=e=>e&&E?e[E].map(e=>s(e)):e?e.map(e=>s(e)):e;return(E=a,s)=>{switch(s.type){case t[`REQUEST_${e}`]:return{...E,loading:!0};case t[`REQUEST_APPLICATION_STATE_${e}`]:return{...E,applicationState:{loading:!0}};case t[`RECEIVE_${e}`]:return{...E,loading:!1,items:n(s.payload.data)};case t[`RECEIVE_APPLICATION_STATE_${e}`]:return{...E,applicationState:{links:s.payload.data?s.payload.data.links:[],loading:!1}};case t[`REQUEST_SEARCH_${e}`]:return{...E,searchLoading:!0,searchItems:[]};case t[`RECEIVE_SEARCH_${e}`]:return{...E,searchLoading:!1,searchItems:n(s.payload.data)};case t[`CLEAR_SEARCH_${e}`]:return{...E,searchLoading:!1,searchItems:[]};case t[`CLEAR_${e}_DATA`]:return a;case t[`FETCH_${e}_ERROR`]:return{...E,loading:!1};case t[`REQUEST_UPDATE_${e}`]:return{...E,loading:!0};case t[`RECEIVE_UPDATED_${e}`]:return{...E,loading:!1,items:s.payload.data,snackbarVisible:!0};case t[`SHOW_${e}_SNACKBAR`]:return{...E,snackbarVisible:!0};case t[`HIDE_${e}_SNACKBAR`]:return{...E,snackbarVisible:!1};case t[`REQUEST_POST_${e}`]:return{...E,loading:!0};case t[`RECEIVE_POST_${e}`]:return{...E,loading:!1,items:s.payload.data,snackbarVisible:!0}}return E}}function q(e,t,a={loading:!1,searchLoading:!1,items:[],searchItems:[],links:[]}){const E=e=>e?e.map(e=>{return t=e,{...t,href:w.getSelfHref(t)};var t}):e;return(s=a,n)=>{switch(n.type){case t[`REQUEST_${e}`]:return{...s,loading:!0};case t[`RECEIVE_${e}`]:return{...s,loading:!1,items:E(n.payload.data.responseData),links:n.payload.data.links};case t[`REQUEST_SEARCH_${e}`]:return{...s,searchLoading:!0,searchItems:[]};case t[`RECEIVE_SEARCH_${e}`]:return{...s,searchLoading:!1,searchItems:E(n.payload.data.responseData),links:n.payload.data.links};case t[`CLEAR_SEARCH_${e}`]:return{...s,searchLoading:!1,searchItems:[]};case t[`CLEAR_${e}_DATA`]:return a;case t[`FETCH_${e}_ERROR`]:return{...s,loading:!1}}return s}}function k(e,t,a={working:!1,messageText:"",messageVisible:!1},E="Completed successfully"){return(s=a,n)=>{switch(n.type){case t[`REQUEST_${e}`]:return{...s,working:!0,data:null};case t[`RECEIVE_${e}`]:return{...s,working:!1,messageText:(i=n.payload,i.data&&i.data.message?i.data.message:E),messageVisible:!0,data:n.payload.data};case t[`SHOW_${e}_MESSAGE`]:return{...s,messageVisible:!0};case t[`HIDE_${e}_MESSAGE`]:return{...s,messageVisible:!1};case t[`CLEAR_${e}_DATA`]:return{...s,working:!1,messageText:E,messageVisible:!1,data:null};case t[`FETCH_${e}_ERROR`]:return{...s,working:!1}}var i;return s}}function G(e,t,a={loading:!1,item:null,editStatus:"view",snackbarVisible:!1}){return(E=a,s)=>{switch(s.type){case t[`REQUEST_ADD_${e}`]:return{...E,loading:!0,editStatus:"create"};case t[`REQUEST_CREATE_${e}`]:return{...E,loading:!1,item:null,editStatus:"create"};case t[`REQUEST_${e}`]:return{...E,item:null,loading:!0,editStatus:"view"};case t[`REQUEST_APPLICATION_STATE_${e}`]:return{...E,applicationState:{loading:!0}};case t[`REQUEST_UPDATE_${e}`]:case t[`REQUEST_PATCH_${e}`]:case t[`REQUEST_DELETE_${e}`]:return{...E,loading:!0};case t[`FETCH_${e}_ERROR`]:return{...E,loading:!1};case t[`SET_${e}_EDIT_STATUS`]:return{...E,editStatus:s.payload};case t[`RESET_${e}`]:return{...E,editStatus:"view"};case t[`RECEIVE_${e}`]:return{...E,loading:!1,item:s.payload.data,editStatus:"view"};case t[`RECEIVE_APPLICATION_STATE_${e}`]:return{...E,applicationState:{links:s.payload.data?s.payload.data.links:[],loading:!1}};case t[`RECEIVE_UPDATED_${e}`]:case t[`RECEIVE_PATCH_${e}`]:return{...E,loading:!1,item:s.payload.data,editStatus:"view",snackbarVisible:!0};case t[`RECEIVE_DELETED_${e}`]:return{...E,loading:!1,item:s.payload.data,editStatus:"deleted",snackbarVisible:!0};case t[`RECEIVE_NEW_${e}`]:return{...E,loading:!1,item:s.payload.data,editStatus:"view",snackbarVisible:!0};case t[`REQUEST_POST_${e}`]:return{...E,loading:!0};case t[`RECEIVE_POST_${e}`]:return{...E,loading:!1,item:s.payload.data,editStatus:"view",snackbarVisible:!0};case t[`SHOW_${e}_SNACKBAR`]:return{...E,snackbarVisible:!0};case t[`HIDE_${e}_SNACKBAR`]:return{...E,snackbarVisible:!1};case t[`CLEAR_${e}_DATA`]:return a}return E}}function F(e,t,a={}){return(E=a,s)=>s.type===t[`REQUEST_${e}`]?{...s.payload.options}:E}function B(e,t,a={loading:!1,data:null}){return(E=a,s)=>{switch(s.type){case t[`REQUEST_${e}`]:return{...E,loading:!0,data:null};case t[`RECEIVE_${e}`]:return{...E,loading:!1,data:s.payload.data.reportResults?s.payload.data.reportResults[0]:s.payload.data};case t[`FETCH_${e}_ERROR`]:return{...E,loading:!1};default:return E}}}function W(e,t,a={loading:!1,data:null}){return(E=a,s)=>{switch(s.type){case t[`REQUEST_${e}`]:return{...E,loading:!0,data:null};case t[`RECEIVE_${e}`]:return{...E,loading:!1,data:s.payload.data.reportResults};case t[`FETCH_${e}_ERROR`]:return{...E,loading:!1};default:return E}}}function v(e,t={requestErrors:[],itemErrors:[]}){return(a=t,E)=>{if(E.payload){if(E.payload.error&&e[E.payload.error.item]&&E.type===`FETCH_${e[E.payload.error.item].actionType}_ERROR`)return{...a,itemErrors:[...a.itemErrors,E.payload.error]};if(E.payload.item&&e[E.payload.item]){const t=e[E.payload.item];if((s=t.actionType,[`RECEIVE_${s}`,`RECEIVE_NEW_${s}`,`RECEIVE_UPDATED_${s}`]).indexOf(E.type)>-1)return{...a,itemErrors:a.itemErrors.filter(e=>e.item!==E.payload.item)};if(E.type===`CLEAR_${t.actionType}_ERRORS`)return{...a,itemErrors:a.itemErrors.filter(e=>e.item!==E.payload.item)}}}var s;return"CLEAR_ITEM_ERRORS"===E.type?{...a,itemErrors:[]}:E.error?{...a,requestErrors:[...a.requestErrors,{...E.payload,type:E.type}]}:E.error?a:{...a,requestErrors:a.requestErrors.filter(e=>e.type!==E.type)}}}function M(e={loading:!1,data:null},t){switch(t.type){case V:return{...e,loading:!0,data:null};case H:return{...e,loading:!1,data:t.payload.menu};default:return e}}function K(e={loading:!1,seen:[],unseen:[]},t){switch(t.type){case D:return{...e,loading:!0};case P:return{...e,loading:!1,unseen:t.payload.news.notifications?t.payload.news.notifications.filter(e=>!localStorage.getItem(e.title)):[],seen:t.payload.news.notifications?t.payload.news.notifications.filter(e=>localStorage.getItem(e.title)):[]};case"MARK_NOTIFICATION_SEEN":return{...e,seen:[...e.seen,...e.unseen.filter(e=>e.title===t.title)],unseen:e.unseen.filter(e=>e.title!==t.title)};default:return e}}function x(e,t,a){this.item=e,this.actionType=t,this.uri=a}const J={menu:M,news:K};function z(){return"Hello from linn-redux-utils!"}export{m as FetchApiActions,x as ItemType,g as ProcessActions,f as ReportActions,O as StateApiActions,U as UpdateApiActions,j as collectionStoreFactory,q as collectionWithLinksStoreFactory,v as fetchErrorReducerFactory,b as fetchMenu,Q as fetchNews,z as hello,G as itemStoreFactory,t as makeActionTypes,E as makeProcessActionTypes,a as makeReportActionTypes,N as markNotificationSeen,M as menu,K as news,k as processStoreFactory,J as reducers,F as reportOptionsFactory,B as reportResultsFactory,W as reportsResultsFactory};
//# sourceMappingURL=index.esm.js.map
